<style>
	.staffAnn {
		width: 15vw;
	}
</style>

<nav class="navbar navbar-expand-sm navbar-dark bg-dark mb-3">
	<div class="container">
		<a class="navbar-brand" href="/staff/home">Monoqlo</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"
				  aria-expanded="false"
				  aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link" href="/staff/item/view-all">items</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="/staff/inventory">inventory</a>
				</li>
			</ul>
			<ul class="navbar-nav ml-auto">
				{{#if staffAdmin}} {{!-- Admin View--}}
					<li class="nav-item dropdown">
						<a href="#" class="nav-link" data-toggle="dropdown" id="navAnnouncements"><i class="fas fa-bell"></i></a>
						<div class="dropdown-menu staffAnn">
							<a class="dropdown-item" href="/staff/announcements">All Announcements</a>
							<div class="dropdown-divider"></div>
							<p class="dropdown-item-text">Recent Announcements</p>
							{{#if announcements}}
								{{#each announcements}}
									<p class="dropdown-item-text"> <span style="font-weight:bold">{{formatDate this.date 'DD MMM YYYY'}}: </span>{{this.title}}</p>
								{{/each}}
							{{else}}
								<p class="dropdown-item-text">There are no recent announcements.</p>
							{{/if}}
						</div>
					</li>
					<li class="nav-item dropdown">
						<a href="#" class="nav-link" data-toggle="dropdown" id="navbarDropdownMenuLink">{{staffName}} <i class="fas fa-caret-down"></i></a>
						<div class="dropdown-menu">
                            <a href="/staff/create-staff" class="dropdown-item">Create Staff Account</a>
                            <a href="/staff/create-announcement" class="dropdown-item">Create Announcement</a>
							<a href="/staff/accounts" class="dropdown-item">Manage Accounts</a>
							<a href="/staff/announcements" class="dropdown-item">All Announcements</a>
							<a href="/user/Accounts" class="dropdown-item">View User accounts</a>
							<a href="/staff/your-account" class="dropdown-item">Your Account</a>
                            <div class="dropdown-divider"></div>
                            <a href="/staff/logout" class="dropdown-item">Logout</a>
						</div>
					</li>
				{{else}} {{!-- Staff View--}}
				<!--directs to a page to show ALL announcements-->
					<li class="nav-item dropdown">
						<a href="#" class="nav-link" data-toggle="dropdown" id="navAnnouncements"><i class="fas fa-bell"></i></a>
						<div class="dropdown-menu staffAnn">
							<a class="dropdown-item" href="/staff/announcements">All Announcements</a>
							<div class="dropdown-divider"></div>
							<p class="dropdown-item-text">Recent Announcements</p>
							{{#if announcements}}
								{{#each announcements}}
									<p class="dropdown-item-text"> <span style="font-weight:bold">{{formatDate this.date 'DD MMM YYYY'}}: </span>{{this.title}}</p>
								{{/each}}
							{{else}}
								<p class="dropdown-item-text">There are no recent announcements.</p>
							{{/if}}
						</div>
					</li>

					<li class="nav-item dropdown">
						<a href="#" class="nav-link" data-toggle="dropdown" id="navUser">{{staffName}} <i class="fas fa-caret-down"></i></a>
						<div class="dropdown-menu">
							<a href="/staff/announcements" class="dropdown-item">All Announcements</a>
							<!--allows normal staff to see their own account details-->
							<a class="dropdown-item" href="/staff/your-account">Your Details</a>
							<div class="dropdown-divider"></div>
							<a class="dropdown-item" href="/staff/logout">Log Out</a>
						</div>
					</li>
					
                	
				{{/if}}
			</ul>
		</div>
	</div>
</nav>