
<!--.col-	.col-sm-	.col-md-	.col-lg-	.col-xl- -->
{{!-- to show ALL accounts in the database --}}
<style>
    .table td.fit, 
    .table th.fit {
    white-space: nowrap;
    width: 1%;
    }
</style>

<div class="">
    {{#if accounts}}
    <h1 class="text-muted">Accounts</h1>
    <hr>
    <div>
        <table id="accountsList" class="table">
            <thead>
                <tr>
                    <th class="th-sm">Type</th>
                    <th class="th-sm">First Name</th>
                    <th class="th-sm">Last Name</th>
                    <th class="th-sm">Gender</th>
                    <th class="th-sm">Email</th>
                    <th class="th-sm">HP</th>
                    <th class="th-sm">DOB</th>
                    <th class="th-sm">Address</th>
                    <th class="th-sm"></th>
                    <th class="th-sm"></th>
                    <th class="th-sm"></th>
                </tr>
            </thead>
            <tbody>
                {{#each accounts}}
                    <tr>
                        <td>{{type}}</td>
                        <td>{{fname}}</td>
                        <td>{{lname}}</td>
                        <td>{{gender}}</td>
                        <td>{{email}}</td>
                        <td>{{hp}}</td>
                        <td class="fit">{{formatDate dob 'DD MMM YYYY'}}</td>
                        <td>{{address}}</td>
                        <td><button type="button" href="/staff/manageAccount/{{id}}" class="btn btn-warning">Update</button></td>
                        <td>
                            <a href="/staff/deleteStaff/{{id}}" class="btn btn-danger">Delete</a></td>
                        </td>
                        <td>
                            <a href="/staff/staffPDF/{{id}}" class="btn" target="_blank"><i class="fas fa-print"></i></a>
                        </td>
                    </tr>
                {{/each}}
            </tbody>
        </table>
    </div>

    {{else}}
        <h3>No accounts registered.</h3>
    {{/if}}

</div>

<script>
    $('#datepicker').datepicker({
        format: 'yyyy-mm-dd',
        uiLibrary: 'bootstrap4',
        defaultDate: "{{formatDate content.dob 'YYYY-MM-DD'}}"
    });
    $(document).ready(function () {
        $('#accountsList').DataTable({
            "pagingType": "first_last_numbers",
            "aaSorting": [],
            columnDefs: [{
                orderable: false,
                targets: [8, 9, 10]
            }],
            "order": [[0, "asc"]]
        });
        $('.dataTables_length').addClass('bs-select');
    });
</script>
